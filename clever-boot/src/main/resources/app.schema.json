{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "id": "https://raw.githubusercontent.com/Lzw2016/clever-app/main/clever-boot/src/main/resources/app.schema.json",
  "title": "配置文件",
  "description": "app.yml 配置文件",
  "type": "object",
  "required": [
  ],
  "properties": {
    "logging": {
      "$ref": "#/definitions/loggingDefinition"
    },
    "clever": {
      "$ref": "#/definitions/cleverDefinition"
    },
    "rootPath": {
      "type": "string",
      "description": "全局基础路径"
    },
    "startup-task": {
      "$ref": "#/definitions/startupTaskDefinition"
    },
    "mybatis": {
      "$ref": "#/definitions/mybatisDefinition"
    },
    "jdbc": {
      "$ref": "#/definitions/jdbcDefinition"
    },
    "redis": {
      "$ref": "#/definitions/redisDefinition"
    },
    "web": {
      "$ref": "#/definitions/webDefinition"
    }
  },
  "definitions": {
    "//------------------------------------------------------------------------------自定义类型": {},
    "logLevel": {
      "enum": [
        "trace",
        "debug",
        "info",
        "warn",
        "error",
        "fatal",
        "off"
      ]
    },
    "duration": {
      "type": "string",
      "pattern": "^\\d+(ns|us|ms|s|m|h|d)$"
    },
    "httpMethod": {
      "enum": [
        "GET",
        "HEAD",
        "POST",
        "PUT",
        "PATCH",
        "DELETE",
        "OPTIONS",
        "TRACE"
      ]
    },
    "propagation": {
      "enum": [
        "REQUIRED",
        "SUPPORTS",
        "MANDATORY",
        "REQUIRES_NEW",
        "NOT_SUPPORTED",
        "NEVER",
        "NESTED"
      ]
    },
    "isolation": {
      "enum": [
        "DEFAULT",
        "READ_UNCOMMITTED",
        "READ_COMMITTED",
        "REPEATABLE_READ",
        "SERIALIZABLE"
      ]
    },
    "dataSize": {
      "type": "string",
      "pattern": "^\\d+(B|KB|MB|GB|TB)$"
    },
    "jacksonDefinition": {
      "type": "object",
      "description": "Jackson 配置",
      "properties": {
        "dateFormat": {
          "type": "string",
          "description": "日期格式字符串或完全限定的日期格式类名称。默认: 'yyyy-MM-dd HH:mm:ss'"
        },
        "locale": {
          "type": "string",
          "description": "用于格式化的语言环境。如：'zh'、'zh_CN'、'en'、'en_US'"
        },
        "timeZone": {
          "type": "string",
          "description": "格式化日期时使用的时区。例如，“America/Los_Angeles”或“GMT+10”"
        },
        "propertyNamingStrategy": {
          "type": "string",
          "description": "Jackson 的 com.fasterxml.jackson.databind.PropertyNamingStrategy 中的静态成员之一。也可以是 PropertyNamingStrategy 子类的完全限定类名。"
        },
        "defaultPropertyInclusion": {
          "type": "string",
          "description": "控制序列化期间包含的属性。使用 Jackson 的 JsonInclude.Include 枚举中的值之一进行配置。",
          "enum": [
            "always",
            "non_null",
            "non_absent",
            "non_empty",
            "non_default",
            "custom",
            "use_defaults"
          ]
        },
        "visibility": {
          "type": "object",
          "description": "Jackson 可见性阈值，可用于限制自动检测哪些方法（和字段）",
          "propertyNames": {
            "enum": [
              "getter",
              "setter",
              "creator",
              "field",
              "is_getter",
              "none",
              "all"
            ]
          },
          "patternProperties": {
            "": {
              "type": "string",
              "enum": [
                "any",
                "non_private",
                "protected_and_public",
                "public_only",
                "none",
                "default"
              ]
            }
          }
        },
        "serialization": {
          "type": "object",
          "description": "开启/关闭 Jackson 特性会影响 Java 对象的序列化方式",
          "propertyNames": {
            "enum": [
              "wrap_root_value",
              "indent_output",
              "fail_on_empty_beans",
              "fail_on_self_references",
              "wrap_exceptions",
              "fail_on_unwrapped_type_identifiers",
              "write_self_references_as_null",
              "close_closeable",
              "flush_after_write_value",
              "write_dates_as_timestamps",
              "write_date_keys_as_timestamps",
              "write_dates_with_zone_id",
              "write_dates_with_context_time_zone",
              "write_durations_as_timestamps",
              "write_char_arrays_as_json_arrays",
              "write_enums_using_to_string",
              "write_enums_using_index",
              "write_enum_keys_using_index",
              "write_null_map_values",
              "write_empty_json_arrays",
              "write_single_elem_arrays_unwrapped",
              "write_bigdecimal_as_plain",
              "write_date_timestamps_as_nanoseconds",
              "order_map_entries_by_keys",
              "eager_serializer_fetch",
              "use_equality_for_object_id"
            ]
          },
          "patternProperties": {
            "": {
              "type": "boolean"
            }
          }
        },
        "deserialization": {
          "type": "object",
          "description": "开启/关闭 Jackson 特性会影响 Java 对象的反序列化方式",
          "propertyNames": {
            "enum": [
              "use_big_decimal_for_floats",
              "use_big_integer_for_ints",
              "use_long_for_ints",
              "use_java_array_for_json_array",
              "fail_on_unknown_properties",
              "fail_on_null_for_primitives",
              "fail_on_numbers_for_enums",
              "fail_on_invalid_subtype",
              "fail_on_reading_dup_tree_key",
              "fail_on_ignored_properties",
              "fail_on_unresolved_object_ids",
              "fail_on_missing_creator_properties",
              "fail_on_null_creator_properties",
              "fail_on_missing_external_type_id_property",
              "fail_on_trailing_tokens",
              "wrap_exceptions",
              "accept_single_value_as_array",
              "unwrap_single_value_arrays",
              "unwrap_root_value",
              "accept_empty_string_as_null_object",
              "accept_empty_array_as_null_object",
              "accept_float_as_int",
              "read_enums_using_to_string",
              "read_unknown_enum_values_as_null",
              "read_unknown_enum_values_using_default_value",
              "read_date_timestamps_as_nanoseconds",
              "adjust_dates_to_context_time_zone",
              "eager_deserializer_fetch"
            ]
          },
          "patternProperties": {
            "": {
              "type": "boolean"
            }
          }
        },
        "mapper": {
          "type": "object",
          "description": "开启/关闭 Jackson 的通用特性",
          "propertyNames": {
            "enum": [
              "use_annotations",
              "use_getters_as_setters",
              "propagate_transient_marker",
              "auto_detect_creators",
              "auto_detect_fields",
              "auto_detect_getters",
              "auto_detect_is_getters",
              "auto_detect_setters",
              "require_setters_for_getters",
              "allow_final_fields_as_mutators",
              "infer_property_mutators",
              "infer_creator_from_constructor_properties",
              "allow_void_valued_properties",
              "can_override_access_modifiers",
              "override_public_access_modifiers",
              "use_static_typing",
              "use_base_type_as_default_impl",
              "infer_builder_type_bindings",
              "default_view_inclusion",
              "sort_properties_alphabetically",
              "sort_creator_properties_first",
              "accept_case_insensitive_properties",
              "accept_case_insensitive_enums",
              "accept_case_insensitive_values",
              "use_wrapper_name_as_property_name",
              "use_std_bean_naming",
              "allow_explicit_property_renaming",
              "allow_coercion_of_scalars",
              "ignore_duplicate_module_registrations",
              "ignore_merge_for_unmergeable",
              "block_unsafe_polymorphic_base_types",
              "apply_default_values"
            ]
          },
          "patternProperties": {
            "": {
              "type": "boolean"
            }
          }
        },
        "parser": {
          "type": "object",
          "description": "开启/关闭 Jackson 的解析器特性",
          "propertyNames": {
            "enum": [
              "auto_close_source",
              "allow_comments",
              "allow_yaml_comments",
              "allow_unquoted_field_names",
              "allow_single_quotes",
              "allow_unquoted_control_chars",
              "allow_backslash_escaping_any_character",
              "allow_numeric_leading_zeros",
              "allow_leading_decimal_point_for_numbers",
              "allow_non_numeric_numbers",
              "allow_missing_values",
              "allow_trailing_comma",
              "strict_duplicate_detection",
              "ignore_undefined",
              "include_source_in_location"
            ]
          },
          "patternProperties": {
            "": {
              "type": "boolean"
            }
          }
        },
        "generator": {
          "type": "object",
          "description": "开启/关闭 Jackson 的生成器特性",
          "propertyNames": {
            "enum": [
              "auto_close_target",
              "auto_close_json_content",
              "flush_passed_to_stream",
              "quote_field_names",
              "quote_non_numeric_numbers",
              "escape_non_ascii",
              "write_numbers_as_strings",
              "write_bigdecimal_as_plain",
              "strict_duplicate_detection",
              "ignore_unknown"
            ]
          },
          "patternProperties": {
            "": {
              "type": "boolean"
            }
          }
        }
      }
    },
    "hikariConfigDefinition": {
      "type": "object",
      "description": "HikariCP连接池配置",
      "properties": {
        "catalog": {
          "type": "string"
        },
        "connectionTimeout": {
          "type": "integer"
        },
        "validationTimeout": {
          "type": "integer"
        },
        "idleTimeout": {
          "type": "integer"
        },
        "leakDetectionThreshold": {
          "type": "integer"
        },
        "maxLifetime": {
          "type": "integer"
        },
        "maxPoolSize": {
          "type": "integer"
        },
        "minIdle": {
          "type": "integer"
        },
        "username": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "initializationFailTimeout": {
          "type": "integer"
        },
        "connectionInitSql": {
          "type": "string"
        },
        "connectionTestQuery": {
          "type": "string"
        },
        "dataSourceClassName": {
          "type": "string"
        },
        "dataSourceJndiName": {
          "type": "string"
        },
        "driverClassName": {
          "type": "string"
        },
        "exceptionOverrideClassName": {
          "type": "string"
        },
        "jdbcUrl": {
          "type": "string"
        },
        "poolName": {
          "type": "string"
        },
        "schema": {
          "type": "string"
        },
        "transactionIsolationName": {
          "type": "string"
        },
        "isAutoCommit": {
          "type": "boolean"
        },
        "isReadOnly": {
          "type": "boolean"
        },
        "isIsolateInternalQueries": {
          "type": "boolean"
        },
        "isRegisterMbeans": {
          "type": "boolean"
        },
        "isAllowPoolSuspension": {
          "type": "boolean"
        },
        "dataSourceProperties": {
          "type": "object",
          "patternProperties": {
            "^.+$": {
              "type": "string"
            }
          }
        }
      }
    },
    "redisPropertiesDefinition": {
      "type": "object",
      "description": "Redis 配置",
      "properties": {
        "mode": {
          "type": "string",
          "description": "Redis 连接模式",
          "enum": [
            "Standalone",
            "Sentinel",
            "Cluster"
          ]
        },
        "standalone": {
          "type": "object",
          "description": "Redis 单节点配置",
          "properties": {
            "host": {
              "type": "string",
              "description": "Redis 服务器 host"
            },
            "port": {
              "type": "integer",
              "description": "Redis 服务器端口"
            },
            "database": {
              "type": "integer",
              "description": "使用的Redis库(一般 0~15)"
            },
            "username": {
              "type": "string",
              "description": "Redis 服务器的登录用户名"
            },
            "password": {
              "type": "string",
              "description": "Redis 服务器的登录密码"
            }
          }
        },
        "sentinel": {
          "type": "object",
          "description": "Redis 哨兵配置",
          "properties": {
            "master": {
              "type": "string",
              "description": "Redis 服务器的名称"
            },
            "nodes": {
              "type": "array",
              "description": "“host:port”对的逗号分隔列表",
              "items": {
                "type": "string"
              }
            },
            "database": {
              "type": "integer",
              "description": "使用的Redis库(一般 0~15)"
            },
            "username": {
              "type": "string",
              "description": "Redis 服务器的登录用户名"
            },
            "password": {
              "type": "string",
              "description": "Redis 服务器的登录密码"
            }
          }
        },
        "cluster": {
          "type": "object",
          "description": "Redis 群集配置",
          "properties": {
            "nodes": {
              "type": "array",
              "description": "以逗号分隔的“host:port”对列表，用于引导。这表示集群节点的“initial”列表，并且需要至少有一个条目。",
              "items": {
                "type": "string"
              }
            },
            "maxRedirects": {
              "type": "integer",
              "description": "在集群中执行命令时要遵循的最大重定向数"
            },
            "username": {
              "type": "string",
              "description": "Redis 服务器的登录用户名"
            },
            "password": {
              "type": "string",
              "description": "Redis 服务器的登录密码"
            },
            "refresh": {
              "type": "object",
              "description": "Redis 集群节点刷新配置",
              "properties": {
                "dynamicRefreshSources": {
                  "type": "boolean",
                  "description": "是否发现并查询所有集群节点以获取集群拓扑。设置为 false 时，只有初始种子节点用作拓扑发现的源。"
                },
                "period": {
                  "type": "string",
                  "description": "集群拓扑刷新周期",
                  "$ref": "#/definitions/duration"
                },
                "adaptive": {
                  "type": "boolean",
                  "description": "是否应使用所有可用刷新触发器的自适应拓扑刷新"
                }
              }
            }
          }
        },
        "ssl": {
          "type": "boolean",
          "description": "是否启用 SSL 支持"
        },
        "readTimeout": {
          "type": "string",
          "description": "读取超时",
          "$ref": "#/definitions/duration"
        },
        "connectTimeout": {
          "type": "string",
          "description": "连接超时",
          "$ref": "#/definitions/duration"
        },
        "shutdownTimeout": {
          "type": "string",
          "description": "关机超时",
          "$ref": "#/definitions/duration"
        },
        "clientName": {
          "type": "string",
          "description": "要在与 CLIENT SETNAME 的连接上设置的客户端名称"
        },
        "pool": {
          "type": "object",
          "description": "连接池配置",
          "properties": {
            "enabled": {
              "type": "boolean",
              "description": "是否启用"
            },
            "maxIdle": {
              "type": "integer",
              "description": "池中“空闲”连接的最大数量。使用负值表示空闲连接数不受限制"
            },
            "minIdle": {
              "type": "integer",
              "description": "池中要维护的最小空闲连接数的目标。此设置仅在它和逐出运行之间的时间均为正时才有效。"
            },
            "maxActive": {
              "type": "integer",
              "description": "池在给定时间可以分配的最大连接数。使用负值表示没有限制。"
            },
            "maxWait": {
              "type": "string",
              "description": "连接分配在池耗尽时抛出异常之前应该阻塞的最长时间。使用负值无限期阻塞。",
              "$ref": "#/definitions/duration"
            },
            "timeBetweenEvictionRuns": {
              "type": "string",
              "description": "空闲对象驱逐器线程运行之间的时间。当为正时，空闲对象驱逐器线程启动，否则不执行空闲对象驱逐。",
              "$ref": "#/definitions/duration"
            }
          }
        },
        "redisson": {
          "type": "object",
          "description": "Redisson 配置",
          "properties": {
            "threads": {
              "type": "integer",
              "description": "线程数量在 RTopic 对象的所有侦听器、RRemoteService 对象的调用处理程序和 RExecutorService 任务之间共享。 默认值为 16。 0 表示 current_processors_amount 2"
            },
            "nettyThreads": {
              "type": "integer",
              "description": "Redisson 使用的所有 Redis 客户端之间共享的线程数。 默认值为 32。0 表示 current_processors_amount 2"
            },
            "redissonReferenceEnabled": {
              "type": "boolean",
              "description": "用于启用 Redisson 参考功能的配置选项。默认是 true"
            },
            "transportMode": {
              "type": "string",
              "description": "网路传输方式。默认是 TransportMode.NIO",
              "enum": [
                "nio",
                "epoll",
                "kqueue"
              ]
            },
            "lockWatchdogTimeout": {
              "type": "integer",
              "description": "只有在没有定义 leaseTimeout 参数的情况下获取锁时才使用此参数。如果看门狗没有将其延长到下一个 lockWatchdogTimeout 时间间隔，则锁在 lockWatchdogTimeout 后过期。 这可以防止由于 Redisson 客户端崩溃或任何其他原因无法以正确方式释放锁而导致的无限锁定。 默认为 30000 毫秒"
            },
            "checkLockSyncedSlaves": {
              "type": "boolean",
              "description": "定义是否在获取锁后检查同步从数量与实际从数量。默认为 true"
            },
            "reliableTopicWatchdogTimeout": {
              "type": "integer",
              "description": "如果看门狗没有将其延长到下一个超时时间间隔，则可靠主题订阅者在超时后过期。 这可以防止由于 Redisson 客户端崩溃或订阅者无法再使用消息时的任何其他原因导致主题中存储的消息无限增长。 默认为 600000 毫秒"
            },
            "keepPubSubOrder": {
              "type": "boolean",
              "description": "如果看门狗没有将其延长到下一个超时时间间隔，则可靠主题订阅者在超时后过期。 这可以防止由于 Redisson 客户端崩溃或订阅者无法再使用消息时的任何其他原因导致主题中存储的消息无限增长。 默认为 600000 毫秒"
            },
            "useScriptCache": {
              "type": "boolean",
              "description": "定义是否在 Redis 端使用 Lua 脚本缓存。大多数 Redisson 方法都是基于 Lua 脚本的，启用此设置可以提高此类方法的执行速度并节省网络流量。 默认为 false"
            },
            "minCleanUpDelay": {
              "type": "integer",
              "description": "定义过期条目清理过程的最小延迟（以秒为单位）。 应用于 JCache、RSetCache、RMapCache、RListMultimapCache、RSetMultimapCache 对象。 默认为 5 秒\n"
            },
            "maxCleanUpDelay": {
              "type": "integer",
              "description": "定义过期条目清理过程的最大延迟秒数。 应用于 JCache、RSetCache、RMapCache、RListMultimapCache、RSetMultimapCache 对象。 默认为 1800 秒"
            },
            "cleanUpKeysAmount": {
              "type": "integer",
              "description": "定义过期条目清理过程中每次操作删除的过期密钥数量。 应用于 JCache、RSetCache、RMapCache、RListMultimapCache、RSetMultimapCache 对象。 默认为 100"
            },
            "useThreadClassLoader": {
              "type": "boolean",
              "description": "定义是否向 Codec 提供 Thread ContextClassLoader。使用 Thread.getContextClassLoader() 可以解决 ClassNotFoundException 错误。 例如，如果在 Tomcat 和已部署的应用程序中都使用 Redisson，则会出现此错误。 默认为 true"
            },
            "idleConnectionTimeout": {
              "type": "integer",
              "description": "如果池连接在超时时间内未使用并且当前连接数量大于最小空闲连接池大小，则它将关闭并从池中删除(毫秒)"
            },
            "retryInterval": {
              "type": "integer",
              "description": "重试间隔(毫秒)"
            },
            "retryAttempts": {
              "type": "integer",
              "description": "重试尝试。默认为 3 次尝试"
            },
            "subscriptionsPerConnection": {
              "type": "integer",
              "description": "每个 Redis 连接的订阅限制"
            },
            "sslEnableEndpointIdentification": {
              "type": "boolean",
              "description": "启用 SSL 端点识别。默认为 true"
            },
            "pingConnectionInterval": {
              "type": "integer",
              "description": "定义每个连接到 Redis 的 PING 命令发送间隔。 0 表示禁用。默认值为 30000毫秒"
            },
            "keepAlive": {
              "type": "boolean",
              "description": "为连接启用 TCP keepAlive。默认是 false"
            },
            "tcpNoDelay": {
              "type": "boolean",
              "description": "为连接启用 TCP noDelay。默认是 true"
            },
            "single": {
              "type": "object",
              "description": "single 模式配置",
              "properties": {
                "dnsMonitoringInterval": {
                  "type": "integer",
                  "description": "检查端点的 DNS 应用程序的时间间隔（以毫秒为单位）必须确保 JVM DNS 缓存 TTL 足够低以支持此操作。 设置 -1 以禁用。默认值为 5000。"
                },
                "connectionPoolSize": {
                  "type": "integer",
                  "description": "Redis连接池大小。默认为 64"
                },
                "connectionMinimumIdleSize": {
                  "type": "integer",
                  "description": "最小空闲 Redis 连接量。默认为 24"
                },
                "subscriptionConnectionPoolSize": {
                  "type": "integer",
                  "description": "Redis订阅-连接池大小限制。默认为 50"
                },
                "subscriptionConnectionMinimumIdleSize": {
                  "type": "integer",
                  "description": "最小空闲订阅连接量。默认为 1"
                }
              }
            },
            "slave": {
              "type": "object",
              "description": "slave 模式配置",
              "properties": {
                "slaveConnectionPoolSize": {
                  "type": "integer",
                  "description": "每个从节点的Redis“从”节点最大连接池大小"
                },
                "slaveConnectionMinimumIdleSize": {
                  "type": "integer",
                  "description": "订阅 (pub/sub) 频道的最小空闲连接池大小。默认为 24"
                },
                "slaveFailsInterval": {
                  "type": "integer",
                  "description": "Redis Slave节点执行命令失败的时间间隔达到slaveFailsInterval值时，从可用节点内部列表中排除。默认为 180000毫秒"
                },
                "failedSlavesReconnectionTimeout": {
                  "type": "integer",
                  "description": "Redis Slave 被排除在可用服务器的内部列表之外时尝试重新连接的间隔。 在每个这样的超时事件中，Redisson 都会尝试连接到断开连接的 Redis 服务器。 默认为 3000 毫秒"
                },
                "masterConnectionPoolSize": {
                  "type": "integer",
                  "description": "Redis“master”服务器连接池大小。默认为 64"
                },
                "masterConnectionMinimumIdleSize": {
                  "type": "integer",
                  "description": "Redis 'master' 节点每个从节点的最小空闲连接量。默认为 24"
                },
                "readMode": {
                  "type": "string",
                  "description": "设置用于读取操作的节点类型。默认是 SLAVE",
                  "enum": [
                    "slave",
                    "master",
                    "master_slave"
                  ]
                },
                "subscriptionMode": {
                  "type": "string",
                  "description": "设置用于订阅操作的节点类型。默认是 MASTER",
                  "enum": [
                    "slave",
                    "master"
                  ]
                },
                "subscriptionConnectionPoolSize": {
                  "type": "integer",
                  "description": "订阅 (pub/sub) 频道的最大连接池大小。默认是 50"
                },
                "subscriptionConnectionMinimumIdleSize": {
                  "type": "integer",
                  "description": "每个从节点的 Redis“slave”节点最小空闲订阅 (pub/sub) 连接量。默认为 1"
                },
                "dnsMonitoringInterval": {
                  "type": "integer",
                  "description": "检查端点 DNS 的时间间隔（以毫秒为单位）应用程序必须确保 JVM DNS 缓存 TTL 足够低以支持此操作。 设置 -1 以禁用。默认值为 5000。"
                }
              }
            },
            "cluster": {
              "type": "object",
              "description": "cluster 模式配置",
              "properties": {
                "scanInterval": {
                  "type": "integer",
                  "description": "Redis 集群扫描间隔，以毫秒为单位。默认为 5000毫秒"
                },
                "checkSlotsCoverage": {
                  "type": "boolean",
                  "description": "在 Redisson 启动期间启用集群插槽检查。默认为 true"
                }
              }
            },
            "sentinel": {
              "type": "object",
              "description": "sentinel 模式配置",
              "properties": {
                "scanInterval": {
                  "type": "integer",
                  "description": "Sentinel 扫描间隔（以毫秒为单位）。默认为 1000毫秒"
                },
                "checkSentinelsList": {
                  "type": "boolean",
                  "description": "在 Redisson 启动期间启用哨兵列表检查。默认为 true"
                },
                "checkSlaveStatusWithSyncing": {
                  "type": "boolean",
                  "description": "使用“master-link-status”标志检查哨兵的节点状态。默认为 true"
                },
                "sentinelsDiscovery": {
                  "type": "boolean",
                  "description": "启用哨兵发现。默认为 true"
                }
              }
            }
          }
        }
      }
    },
    "//------------------------------------------------------------------------------配置Definition": {},
    "loggingDefinition": {
      "type": "object",
      "description": "系统日志配置",
      "properties": {
        "config": {
          "type": "string",
          "description": "logback配置文件位置"
        },
        "file": {
          "type": "object",
          "description": "系统日志文件位置",
          "properties": {
            "path": {
              "type": "string",
              "description": "日志文件存储路径"
            },
            "name": {
              "type": "string",
              "description": "日志文件名称"
            }
          }
        },
        "level": {
          "type": "object",
          "description": "logger日志级别配置",
          "properties": {
            "root": {
              "type": "string",
              "description": "root logger日志级别",
              "$ref": "#/definitions/logLevel"
            }
          },
          "patternProperties": {
            "^\\S+$": {
              "type": "string",
              "description": "logger日志级别",
              "$ref": "#/definitions/logLevel"
            }
          }
        }
      }
    },
    "cleverDefinition": {
      "type": "object",
      "description": "clever 配置",
      "properties": {
        "profiles": {
          "type": "object",
          "description": "profiles配置",
          "properties": {
            "active": {
              "type": [
                "array",
                "string"
              ],
              "description": "活动的配置",
              "uniqueItems": true
            }
          }
        },
        "profiles.active": {
          "type": [
            "array",
            "string"
          ],
          "description": "活动的配置",
          "uniqueItems": true
        },
        "application": {
          "type": "object",
          "description": "应用配置",
          "properties": {
            "name": {
              "type": "string",
              "description": "应用名称"
            }
          }
        },
        "application.name": {
          "type": "string",
          "description": "应用名称"
        }
      }
    },
    "startupTaskDefinition": {
      "type": "object",
      "description": "系统启动后的命令行任务",
      "properties": {
        "timedTask": {
          "type": "array",
          "description": "定时任务",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "任务名称"
              },
              "enable": {
                "type": "boolean",
                "description": "是否启用当前任务,默认: true"
              },
              "interval": {
                "type": "string",
                "description": "时执行此任务的时间间隔,默认60秒",
                "$ref": "#/definitions/duration"
              },
              "clazz": {
                "type": "string",
                "description": "class名称"
              },
              "method": {
                "type": "string",
                "description": "method名称"
              }
            }
          }
        },
        "cmdTask": {
          "type": "array",
          "description": "命令行任务",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "任务名称"
              },
              "workDir": {
                "type": "string",
                "description": "Command任务的工作目录"
              },
              "cmd": {
                "type": "object",
                "description": "执行的命令行",
                "properties": {
                  "windows": {
                    "type": "string",
                    "description": "windows 系统的命令行"
                  },
                  "linux": {
                    "type": "string",
                    "description": "linux 系统的命令行"
                  },
                  "macos": {
                    "type": "string",
                    "description": "macos 系统的命令行"
                  }
                }
              },
              "enable": {
                "type": "boolean",
                "description": "是否启用当前任务,默认: true"
              },
              "async": {
                "type": "boolean",
                "description": "是否异步执行任务,默认: true"
              },
              "interval": {
                "type": "string",
                "description": "时执行此任务的时间间隔,默认不定时执行",
                "$ref": "#/definitions/duration"
              }
            }
          }
        }
      }
    },
    "mybatisDefinition": {
      "type": "object",
      "description": "Mybatis 配置",
      "properties": {
        "enable": {
          "type": "boolean",
          "description": "是否启用mybatis配置"
        },
        "watcher": {
          "type": "boolean",
          "description": "是否实时动态加载 mapper.xml"
        },
        "interval": {
          "type": "string",
          "description": "文件检查时间间隔(默认1秒)",
          "$ref": "#/definitions/duration"
        },
        "locations": {
          "type": "array",
          "description": "mapper.xml文件路径配置",
          "items": {
            "type": "object",
            "properties": {
              "fileType": {
                "type": "string",
                "description": "文件系统类型",
                "enum": [
                  "filesystem",
                  "jar"
                ]
              },
              "location": {
                "type": "string",
                "description": "mapper.xml文件路径",
                "x-intellij-html-description": "mapper.xml文件路径<pre>1.classpath路径\n  classpath:com/mycompany/**/*.xml\n  classpath*:com/mycompany/**/*.xml\n2.本机绝对路径\n  file:/home/www/public/\n  file:D:/resources/static/\n3.本机相对路径\n  ../public/static\n  ./public\n  ../../dist</pre>"
              },
              "filter": {
                "type": "string",
                "description": "ant风格的过滤器(为空则不过滤)",
                "x-intellij-html-description": "ant风格的过滤器(为空则不过滤)<pre>1.dao/**/*.xml\n2.**/*.xml</pre>"
              }
            }
          }
        }
      }
    },
    "jdbcDefinition": {
      "type": "object",
      "description": "Jdbc配置",
      "properties": {
        "enable": {
          "type": "boolean",
          "description": "是否启用JDBC配置"
        },
        "defaultName": {
          "type": "string",
          "description": "默认的数据源名称"
        },
        "metrics": {
          "type": "object",
          "description": "jdbc性能监控",
          "properties": {
            "enable": {
              "type": "boolean",
              "description": "是否启用监控jdbc性能"
            },
            "ignoreSql": {
              "type": "array",
              "description": "忽略的SQL语句",
              "items": {
                "type": "string"
              }
            },
            "maxSqlCount": {
              "type": "integer",
              "description": "最大监控的SQL数量"
            },
            "histogram": {
              "type": "array",
              "description": "执行直方图配置",
              "items": {
                "type": "integer"
              }
            },
            "histogramTopN": {
              "type": "integer",
              "description": "直方图区间最耗时的TopN"
            }
          }
        },
        "global": {
          "type": "object",
          "description": "JDBC数据源全局配置",
          "$ref": "#/definitions/hikariConfigDefinition"
        },
        "dataSource": {
          "type": "object",
          "description": "JDBC数据源集合(数据源名称 --> 数据源配置)",
          "patternProperties": {
            "^.+$": {
              "type": "object",
              "$ref": "#/definitions/hikariConfigDefinition"
            }
          }
        }
      }
    },
    "redisDefinition": {
      "type": "object",
      "description": "Redis 配置",
      "properties": {
        "enable": {
          "type": "boolean",
          "description": "是否启用Redis配置"
        },
        "defaultName": {
          "type": "string",
          "description": "默认的数据源名称"
        },
        "global": {
          "type": "object",
          "description": "Redis全局配置",
          "$ref": "#/definitions/redisPropertiesDefinition"
        },
        "dataSource": {
          "type": "object",
          "description": "Redis数据源集合(数据源名称 --> 数据源配置)",
          "patternProperties": {
            "^.+$": {
              "type": "object",
              "$ref": "#/definitions/redisPropertiesDefinition"
            }
          }
        }
      }
    },
    "webDefinition": {
      "type": "object",
      "description": "web相关配置",
      "properties": {
        "host": {
          "type": "string",
          "description": "web服务要绑定的主机IP，默认：'0.0.0.0'"
        },
        "port": {
          "type": "integer",
          "description": "web服务端口，默认：9090"
        },
        "server": {
          "$ref": "#/definitions/webDefinition/definitions/serverDefinition"
        },
        "jackson": {
          "$ref": "#/definitions/jacksonDefinition"
        },
        "http": {
          "$ref": "#/definitions/webDefinition/definitions/httpDefinition"
        },
        "websocket": {
          "$ref": "#/definitions/webDefinition/definitions/webSocketConfigDefinition"
        },
        "misc": {
          "$ref": "#/definitions/webDefinition/definitions/miscDefinition"
        },
        "echo": {
          "$ref": "#/definitions/webDefinition/definitions/echoDefinition"
        },
        "cors": {
          "$ref": "#/definitions/webDefinition/definitions/corsDefinition"
        },
        "resources": {
          "$ref": "#/definitions/webDefinition/definitions/resourcesDefinition"
        },
        "mvc": {
          "$ref": "#/definitions/webDefinition/definitions/mvcDefinition"
        },
        "security": {
          "$ref": "#/definitions/webDefinition/definitions/securityDefinition"
        }
      },
      "definitions": {
        "serverDefinition": {
          "type": "object",
          "description": "Server 配置",
          "properties": {
            "contextPath": {
              "type": "string",
              "description": "web server 的 context path，默认：'/'"
            },
            "ignoreTrailingSlashes": {
              "type": "boolean",
              "description": "将“/path”和“/path/”视为同一路径，默认：true"
            },
            "enableDevLogging": {
              "type": "boolean",
              "description": "启用开发日志（用于开发的广泛调试日志），默认：false"
            },
            "threads": {
              "type": "object",
              "description": "Server 线程池配置，默认：null",
              "properties": {
                "max": {
                  "type": "integer",
                  "description": "最大线程数。默认：250"
                },
                "min": {
                  "type": "integer",
                  "description": "最小线程数。默认：8"
                },
                "maxQueueCapacity": {
                  "type": "integer",
                  "description": "线程池的后备队列的最大容量。根据线程配置计算默认值"
                },
                "idleTimeout": {
                  "type": "string",
                  "description": "最大线程空闲时间。默认：60s",
                  "$ref": "#/definitions/duration"
                }
              }
            }
          }
        },
        "httpDefinition": {
          "type": "object",
          "description": "HTTP 配置",
          "properties": {
            "autogenerateEtags": {
              "type": "boolean",
              "description": "为响应生成 etag，默认：false (ETag是HTTP协议提供的一种Web缓存验证机制，并且允许客户端进行缓存协商。这就使得缓存变得更加高效，而且节省带宽)"
            },
            "prefer405over404": {
              "type": "boolean",
              "description": "如果路径映射到不同的 HTTP 方法，则返回 405 而不是 404，默认：true"
            },
            "enforceSsl": {
              "type": "boolean",
              "description": "将所有 http 请求重定向到 https，默认：false"
            },
            "defaultContentType": {
              "type": "string",
              "description": "默认内容类型，默认：'application/json'"
            },
            "maxRequestSize": {
              "description": "最大请求大小，默认：1MB (要么增加这个，要么使用 InputStream 来处理大的请求)",
              "$ref": "#/definitions/dataSize"
            },
            "asyncRequestTimeout": {
              "description": "异步请求超时时间，默认：0s (0表示不超时)",
              "$ref": "#/definitions/duration"
            },
            "singlePageRoot": {
              "type": "array",
              "description": "花哨的 404 处理程序，在 '/path' 上返回 404 的指定文件(常用于单页面应用)",
              "items": {
                "type": "object",
                "description": "单页面资源配置",
                "properties": {
                  "hostedPath": {
                    "type": "string",
                    "description": "服务端路径"
                  },
                  "filePath": {
                    "type": "string",
                    "description": "文件路径"
                  },
                  "location": {
                    "type": "string",
                    "description": "文件位置，默认：“CLASSPATH”",
                    "enum": [
                      "CLASSPATH",
                      "EXTERNAL"
                    ]
                  }
                }
              },
              "uniqueItems": true
            },
            "staticFile": {
              "type": "array",
              "description": "静态资源映射配置",
              "items": {
                "type": "object",
                "description": "静态资源映射",
                "properties": {
                  "hostedPath": {
                    "type": "string",
                    "description": "服务端路径"
                  },
                  "directory": {
                    "type": "string",
                    "description": "文件路径"
                  },
                  "location": {
                    "type": "string",
                    "description": "文件位置，默认：“CLASSPATH”",
                    "enum": [
                      "CLASSPATH",
                      "EXTERNAL"
                    ]
                  },
                  "preCompress": {
                    "type": "boolean",
                    "description": "预压缩，默认：false"
                  },
                  "headers": {
                    "type": "object",
                    "description": "自定义响应头，默认：['Cache-Control': 'max-age=0']",
                    "patternProperties": {
                      "^.+$": {
                        "type": "string",
                        "description": "自定义响应头"
                      }
                    }
                  }
                }
              },
              "uniqueItems": true
            },
            "enableWebjars": {
              "type": "boolean",
              "description": "通过 webjars 添加静态文件，默认：false"
            },
            "enableCorsForAllOrigins": {
              "type": "boolean",
              "description": "为所有源启用 CORS，默认：false"
            },
            "enableCorsForOrigin": {
              "type": "array",
              "description": "为指定源启用 CORS，默认：[]",
              "items": {
                "type": "string"
              },
              "uniqueItems": true
            }
          }
        },
        "webSocketConfigDefinition": {
          "type": "object",
          "description": "WebSocket 配置",
          "properties": {
            "TODO": {}
          }
        },
        "miscDefinition": {
          "type": "object",
          "description": "Misc(杂项) 配置",
          "properties": {
            "showJavalinBanner": {
              "type": "boolean",
              "description": "是否输出 Javalin Banner 日志"
            }
          }
        },
        "echoDefinition": {
          "type": "object",
          "description": "EchoFilter 配置",
          "properties": {
            "enable": {
              "type": "boolean",
              "description": "启用 EchoFilter"
            },
            "ignorePaths": {
              "type": "array",
              "description": "忽略地址(支持AntPath风格)",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "corsDefinition": {
          "type": "object",
          "description": "跨域处理 Filter 配置",
          "properties": {
            "enable": {
              "type": "boolean",
              "description": "启用 CorsFilter"
            },
            "pathPattern": {
              "type": "array",
              "description": "支持跨域的path(支持AntPath风格，默认：“/**”)",
              "items": {
                "type": "string"
              }
            },
            "allowedOrigins": {
              "type": "array",
              "description": "允许的域(不支持匹配符，如：\"*\")",
              "items": {
                "type": "string"
              }
            },
            "allowedOriginPatterns": {
              "type": "array",
              "description": "允许的域(支持匹配符，如：\"*\")",
              "items": {
                "type": "string"
              }
            },
            "allowedMethods": {
              "type": "array",
              "description": "允许客户端能发送的Http Method，\"*\"为所有Method",
              "items": {
                "type": "string"
              }
            },
            "resolvedMethods": {
              "type": "array",
              "description": "允许客户端能发送的Http Method(解析后的HttpMethod对象)",
              "items": {
                "type": "string",
                "$ref": "#/definitions/httpMethod"
              }
            },
            "allowedHeaders": {
              "type": "array",
              "description": "允许客户端能发送的Http Header，\"*\"为所有Header",
              "items": {
                "type": "string"
              }
            },
            "exposedHeaders": {
              "type": "array",
              "description": "允许客户端能获取的的Http Header，不支持\"*\"",
              "items": {
                "type": "string"
              }
            },
            "allowCredentials": {
              "type": "boolean",
              "description": "是否允许凭证"
            },
            "maxAge": {
              "type": "integer",
              "description": "配置客户端可以缓存pre-flight请求的响应的持续时间(毫秒)"
            }
          }
        },
        "resourcesDefinition": {
          "type": "object",
          "description": "静态资源映射 StaticResourceFilter 配置",
          "properties": {
            "enable": {
              "type": "boolean",
              "description": "启用 StaticFileFilter"
            },
            "mappings": {
              "type": "array",
              "description": "静态资源映射",
              "items": {
                "type": "object",
                "properties": {
                  "hostedPath": {
                    "type": "string",
                    "description": "服务端路径前缀。如：'/static/'、'/dist/'、'/assets/'"
                  },
                  "location": {
                    "type": "string",
                    "description": "静态资源本机路径。",
                    "x-intellij-html-description": "静态资源本机路径。如：<br/>1.classpath路径<br/>&nbsp;&nbsp;&nbsp;&nbsp;classpath:/public/<br/>&nbsp;&nbsp;&nbsp;&nbsp;classpath:/META-INF/resources/<br/>2.本机绝对路径<br/>&nbsp;&nbsp;&nbsp;&nbsp;file:/home/www/public/<br/>&nbsp;&nbsp;&nbsp;&nbsp;file:D:/resources/static/<br/>3.本机相对路径<br/>&nbsp;&nbsp;&nbsp;&nbsp;../public/static<br/>&nbsp;&nbsp;&nbsp;&nbsp;./public<br/>&nbsp;&nbsp;&nbsp;&nbsp;../../dist"
                  },
                  "cachePeriod": {
                    "type": "string",
                    "description": "缓存时间(单位：秒，小于等于0表示不缓存)",
                    "$ref": "#/definitions/duration"
                  }
                }
              }
            }
          }
        },
        "mvcDefinition": {
          "type": "object",
          "description": "MVC 配置",
          "properties": {
            "enable": {
              "type": "boolean",
              "description": "是否启用 mvc 功能"
            },
            "path": {
              "type": "string",
              "description": "mvc接口前缀"
            },
            "httpMethod": {
              "type": "array",
              "description": "mvc支持的Http Method",
              "items": {
                "type": "string",
                "$ref": "#/definitions/httpMethod"
              }
            },
            "packagePrefix": {
              "type": "string",
              "description": "mvc映射的 Method 的 package 默认前缀"
            },
            "allowPackages": {
              "type": "array",
              "description": "允许mvc调用的package前缀",
              "items": {
                "type": "string"
              }
            },
            "defTransactional": {
              "type": "object",
              "description": "默认的事务配置",
              "properties": {
                "defDatasource": {
                  "type": "array",
                  "description": "使用 Transactional 时的默认 datasource 值",
                  "items": {
                    "type": "string"
                  }
                },
                "datasource": {
                  "type": "array",
                  "description": "要启用事务的数据源",
                  "items": {
                    "type": "string"
                  }
                },
                "propagation": {
                  "type": "string",
                  "description": "事务传播性",
                  "$ref": "#/definitions/propagation"
                },
                "isolation": {
                  "type": "string",
                  "description": "事务隔离级别",
                  "$ref": "#/definitions/isolation"
                },
                "timeout": {
                  "type": "integer",
                  "description": "事务超时时间"
                },
                "readOnly": {
                  "type": "boolean",
                  "description": "是否是只读事务"
                }
              }
            },
            "hotReload": {
              "type": "object",
              "description": "热重载配置",
              "properties": {
                "enable": {
                  "type": "boolean",
                  "description": "是否启用热重载模式"
                },
                "watchFile": {
                  "type": "string",
                  "description": "执行热重载的标识文件。如果存在，这个文件变化就执行热重载。如果不存在，则监听所有class文件变化"
                },
                "interval": {
                  "type": "string",
                  "description": "文件检查时间间隔(默认1秒)",
                  "$ref": "#/definitions/duration"
                },
                "excludePackages": {
                  "type": "array",
                  "description": "不使用热重载的package前缀",
                  "items": {
                    "type": "string"
                  }
                },
                "locations": {
                  "type": "array",
                  "description": "热重载class位置",
                  "x-intellij-html-description": "热重载class位置。<br/><pre>1.classpath路径\n  classpath:com/mycompany/**/*.xml\n  classpath*:com/mycompany/**/*.xml\n2.本机绝对路径\n  file:/home/www/public/\n  file:D:/resources/static/\n3.本机相对路径\n  ../public/static\n  ./public\n  ../../dist</pre>",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "securityDefinition": {
          "type": "object",
          "description": "Web权限配置",
          "properties": {
            "enable": {
              "type": "boolean",
              "description": "是有启用 security"
            },
            "dataSource": {
              "type": "object",
              "description": "security 使用的数据源配置",
              "properties": {
                "jdbcName": {
                  "type": "string",
                  "description": "jdbc 数据源名称"
                },
                "enableRedis": {
                  "type": "boolean",
                  "description": "启用 redis 提高性能"
                },
                "redisName": {
                  "type": "string",
                  "description": "redis数据源名称"
                },
                "redisNamespace": {
                  "type": "string",
                  "description": "Token Redis前缀"
                }
              }
            },
            "ignorePaths": {
              "type": "array",
              "description": "不需要认证和授权的Path(支持Ant风格的Path)",
              "items": {
                "type": "string"
              }
            },
            "ignoreAuthPaths": {
              "type": "array",
              "description": "不需要授权的Path(支持Ant风格的Path)",
              "items": {
                "type": "string"
              }
            },
            "ignoreAuthFailedPaths": {
              "type": "array",
              "description": "认证或授权失败时不拦截的Path(支持Ant风格的Path)",
              "items": {
                "type": "string"
              }
            },
            "notLoginNeedRedirect": {
              "type": "boolean",
              "description": "未登录时是否需要重定向到 401 页面"
            },
            "notLoginRedirectPage": {
              "type": "string",
              "description": "未登录时是否需要重定向"
            },
            "forbiddenNeedRedirect": {
              "type": "boolean",
              "description": "无权访问时是否需要重定向到 403 页面"
            },
            "forbiddenRedirectPage": {
              "type": "string",
              "description": "403页面地址(无权访问时的重定向地址)"
            },
            "currentUserPath": {
              "type": "string",
              "description": "获取当前用户信息请求地址"
            },
            "login": {
              "type": "object",
              "description": "用户登录相关配置",
              "properties": {
                "paths": {
                  "type": "array",
                  "description": "登录请求Path",
                  "items": {
                    "type": "string"
                  }
                },
                "postOnly": {
                  "type": "boolean",
                  "description": "登录只支持POST请求"
                },
                "hideUserNotFoundException": {
                  "type": "boolean",
                  "description": "隐藏登录用户不存在的异常"
                },
                "successNeedRedirect": {
                  "type": "boolean",
                  "description": "登录成功 - 是否需要重定向到指定页面"
                },
                "successRedirectPage": {
                  "type": "string",
                  "description": "登录成功重定向的地址"
                },
                "failureNeedRedirect": {
                  "type": "boolean",
                  "description": "登录失败 - 是否需要重定向"
                },
                "failureRedirectPage": {
                  "type": "string",
                  "description": "登录失败跳转地址"
                },
                "allowRepeatLogin": {
                  "type": "boolean",
                  "description": "是否允许重复登录(在登录状态下登录其他账号)"
                },
                "concurrentLoginCount": {
                  "type": "integer",
                  "description": "同一个用户并发登录次数限制(小于等于0表示不限制)"
                },
                "allowAfterLogin": {
                  "type": "boolean",
                  "description": "同一个用户并发登录次数达到最大值之后,是否后登陆的挤下前登录的(false表示登录次数达到最大值后,之后的用户无法登录)"
                }
              }
            },
            "logout": {
              "type": "object",
              "description": "用户登出相关配置",
              "properties": {
                "pathL": {
                  "type": "string",
                  "description": "登出请求路径"
                },
                "needRedirect": {
                  "type": "boolean",
                  "description": "登出后 - 是否需要重定向"
                },
                "redirectPage": {
                  "type": "string",
                  "description": "登出后跳转地址"
                }
              }
            },
            "reqAesKey": {
              "type": "object",
              "description": "用户请求参数加密配置AesKey(登录、注册等敏感接口使用)",
              "properties": {
                "enable": {
                  "type": "boolean",
                  "description": "启用密码加密传输"
                },
                "reqPasswordAesKey": {
                  "type": "string",
                  "description": "密码AES加密 key(Hex编码) -- 请求数据，与前端一致"
                },
                "reqPasswordAesIv": {
                  "type": "string",
                  "description": "密码AES加密 iv(Hex编码) -- 请求数据，与前端一致"
                }
              }
            },
            "token": {
              "type": "object",
              "description": "token配置(JWT-Token有效)",
              "properties": {
                "secretKey": {
                  "type": "string",
                  "description": "Token签名密钥"
                },
                "useCookie": {
                  "type": "boolean",
                  "description": "使用Cookie传输JWT-Token(false表示使用Http Header传输JWT-Token)"
                },
                "tokenValidity": {
                  "type": "string",
                  "description": "Token有效时间(默认：7天)",
                  "$ref": "#/definitions/duration"
                },
                "hoursInDay": {
                  "type": "string",
                  "description": "设置密钥过期时间(格式 HH:mm:ss)"
                },
                "issuer": {
                  "type": "string",
                  "description": "iss（签发者）"
                },
                "audience": {
                  "type": "string",
                  "description": "aud（接收方）"
                },
                "jwtTokenName": {
                  "type": "string",
                  "description": "JWT-Token名称(Cookie或Header中的key)"
                },
                "enableRefreshToken": {
                  "type": "boolean",
                  "description": "启用刷新令牌"
                },
                "refreshTokenValidity": {
                  "type": "string",
                  "description": "刷新令牌有效时间",
                  "$ref": "#/definitions/duration"
                },
                "refreshTokenName": {
                  "type": "string",
                  "description": "刷新Token名称(Cookie或Header中的key)"
                }
              }
            }
          }
        }
      }
    }
  }
}
