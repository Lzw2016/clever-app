### æ¨¡å—è¯´æ˜Ž
clever-spring           å‚è€ƒspringæœ€æ ¸å¿ƒçš„ä»£ç å®žçŽ°ï¼šé€šç”¨ç±»ã€å·¥å…·ç±»ã€æ³¨è§£æ‰©å±•ã€ç±»åž‹åå°„ã€IOæµã€åº”ç”¨çŽ¯å¢ƒã€åŸºç¡€ç±»åž‹è½¬æ¢ã€Beanç±»åž‹è½¬æ¢
clever-core             å°è£…å¸¸ç”¨çš„å·¥å…·ç±»: åºåˆ—åŒ–ååºåˆ—åŒ–ã€HTTPã€ç¼–ç è§£ç ã€IDç”Ÿæˆã€Beanè½¬æ¢éªŒè¯ã€Excelã€å¼‚å¸¸ã€éªŒè¯ç ç­‰ç­‰
clever-web              åŸºäºŽjavalinå°è£…servlet webæœåŠ¡å™¨çš„å®žçŽ°,å‚è€ƒspring mvcéƒ¨åˆ†æ³¨è§£çš„å®žçŽ°,æ”¯æŒweb mvcåŠ¨æ€è°ƒç”¨java class(åŒ…å«kotlinæˆ–groovyç­‰JVMè¯­è¨€,éœ€è¦ç¼–è¯‘å™¨æ”¯æŒ)
clever-groovy           åŸºäºŽgroovyå®žçŽ°web mvcåŠ¨æ€è°ƒç”¨groovy class(æ— éœ€ç¼–è¯‘å™¨æ”¯æŒ)

clever-js-api           JSå¼•æ“ŽAPIå±‚
clever-js-graaljs       graaljså¼•æ“Žå®žçŽ°
clever-js-nashorn       nashornå¼•æ“Žå®žçŽ°
clever-js-j2v8          v8å¼•æ“Žå®žçŽ°
clever-js-test          JSå¼•æ“Žæµ‹è¯•ä»£ç 

clever-swagger2

clever-data-dynamic-sql å®žçŽ°ç±»ä¼¼mybatisçš„sqlæ¨¡ç‰ˆ,å®žçŽ°åŠ¨æ€sqlèƒ½åŠ›
clever-data-jdbc        å‚è€ƒspring-jdbcå®žçŽ°å¯¹JDBCæ“ä½œçš„è½»åº¦å°è£…
clever-data-jdbc-meta   åŸºäºŽschemacrawlerå®žçŽ°è¯»å–æ•°æ®åº“è¡¨ç»“æž„ä¿¡æ¯çš„åŠŸèƒ½

clever-data-redis       åŸºäºŽspring-data-rediså®žçŽ°å¯¹Redisæ“ä½œçš„è½»åº¦å°è£…
clever-data-rabbitmq    å®žçŽ°å¯¹rabbitmqæ“ä½œçš„è½»åº¦å°è£…
clever-data-rocketmq    å®žçŽ°å¯¹rocketmqæ“ä½œçš„è½»åº¦å°è£…
clever-data-kafka       å®žçŽ°å¯¹kafkaæ“ä½œçš„è½»åº¦å°è£…

clever-security         å®žçŽ°ä¸€å¥—RBACæ¨¡åž‹çš„æƒé™è®¤è¯åŠŸèƒ½

clever-boot             åº”ç”¨å¯åŠ¨é¡¹ç›®,å„ä¸ªç»„ä»¶æ¨¡å—æ•´åˆç¤ºä¾‹

### ä¾èµ–å…³ç³»

clever-boot -> ...
ðŸ¡“
clever-groovy -> groovy
ðŸ¡“
clever-web â†’ javalin
ðŸ¡“
clever-core â†’ cglib jackson commons-lang3 commons-io commons-codec json guava okhttp3
ðŸ¡“
clever-spring â†’ snakeyaml slf4j-api jul-to-slf4j logback-classic

---

clever-data-jdbc-meta â†’ schemacrawler
ðŸ¡“
clever-data-jdbc â†’ clever-data-dynamic-sql querydsl HikariCP
ðŸ¡“
clever-core

---

clever-data-redis â†’ commons-pool2 lettuce jedis

### å…¶å®ƒ
javalinæ–‡æ¡£
5.0æ–°ç‰¹æ€§            https://javalin.io/news/javalin-5.0.0-stable.html
4.xå‡çº§5.xå‡çº§æ‰‹å†Œ    https://javalin.io/migration-guide-javalin-4-to-5
4.xæ–‡æ¡£ï¼š            https://javalin.io/archive/docs/v4.6.X.html
4.x ----------------------
ç”Ÿå‘½å‘¨æœŸ
Javalin app = Javalin.create().events(event -> {
    event.serverStarting(() -> { ... });
    event.serverStarted(() -> { ... });
    event.serverStartFailed(() -> { ... });
    event.serverStopping(() -> { ... });
    event.serverStopped(() -> { ... });
    event.handlerAdded(handlerMetaInfo -> { ... });
    event.wsHandlerAdded(wsHandlerMetaInfo -> { ... });
});
app.start() // serverStarting -> (serverStarted || serverStartFailed)
app.stop() // serverStopping -> serverStopped
###---
è¯·æ±‚ç”Ÿå‘½å‘¨æœŸ
Javalin#before              // runs first, can throw exception (which will skip any endpoint handlers)
Javalin#get/post/patch/etc  // runs second, can throw exception
Javalin#error               // runs third, can throw exception
Javalin#after               // runs fourth, can throw exception
Javalin#exception           // runs any time a handler throws (cannot throw exception)
JavalinConfig#requestLogger // runs after response is written to client
JavalinConfig#accessManager // wraps all your endpoint handlers in a lambda of your choice
###---
é™æ€æ–‡ä»¶
run before-handlers
run endpoint-handlers
if no endpoint-handler found
    run static-file-handlers
    if static-file-found
        static-file-handler sends response
    else
        response is 404
run after-handlers
###---
é™æ€æ–‡ä»¶é…ç½®
Javalin.create(config -> {
  config.addStaticFiles(staticFiles -> {
    staticFiles.hostedPath = "/";                   // change to host files on a subpath, like '/assets'
    staticFiles.directory = "/public";              // the directory where your files are located
    staticFiles.location = Location.CLASSPATH;      // Location.CLASSPATH (jar) or Location.EXTERNAL (file system)
    staticFiles.precompress = false;                // if the files should be pre-compressed and cached in memory (optimization)
    staticFiles.aliasCheck = null;                  // you can configure this to enable symlinks (= ContextHandler.ApproveAliases())
    staticFiles.headers = Map.of(...);              // headers that will be set for the files
    staticFiles.skipFileFunction = req -> false;    // you can use this to skip certain files in the dir, based on the HttpServletRequest
  });
});
###---
--------------------------

5.x ----------------------
ç”Ÿå‘½å‘¨æœŸ
Javalin app = Javalin.create().events(event -> {
    event.serverStarting(() -> { ... });
    event.serverStarted(() -> { ... });
    event.serverStartFailed(() -> { ... });
    event.serverStopping(() -> { ... });
    event.serverStopped(() -> { ... });
    event.handlerAdded(handlerMetaInfo -> { ... });
    event.wsHandlerAdded(wsHandlerMetaInfo -> { ... });
});
app.start() // serverStarting -> (serverStarted || serverStartFailed)
app.stop()  // serverStopping -> serverStopped
###---
è¯·æ±‚ç”Ÿå‘½å‘¨æœŸ
Javalin#before              // runs first, can throw exception (which will skip any endpoint handlers)
Config#accessManager        // can be configured to run before endpoints (get/post/patch/etc)
Javalin#get/post/patch/etc  // runs second, can throw exception
Javalin#after               // runs third, can throw exception
Javalin#error               // runs fourth, can throw exception
Javalin#exception           // runs any time a handler throws (cannot throw exception)
Config#requestLogger        // runs after response is written to client
###---
é™æ€æ–‡ä»¶
run before-handlers
run endpoint-handlers
if no endpoint-handler found
    run static-file-handlers
    if static-file-found
        static-file-handler sends response
    else
        response is 404
run after-handlers
###---
é™æ€æ–‡ä»¶é…ç½®
Javalin.create(config -> {
  config.staticFiles.add(staticFiles -> {
    staticFiles.hostedPath = "/";                   // change to host files on a subpath, like '/assets'
    staticFiles.directory = "/public";              // the directory where your files are located
    staticFiles.location = Location.CLASSPATH;      // Location.CLASSPATH (jar) or Location.EXTERNAL (file system)
    staticFiles.precompress = false;                // if the files should be pre-compressed and cached in memory (optimization)
    staticFiles.aliasCheck = null;                  // you can configure this to enable symlinks (= ContextHandler.ApproveAliases())
    staticFiles.headers = Map.of(...);              // headers that will be set for the files
    staticFiles.skipFileFunction = req -> false;    // you can use this to skip certain files in the dir, based on the HttpServletRequest
  });
});
--------------------------
